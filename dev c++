#include <math.h>
#include <iostream>

using namespace std;

void imprime(int m, int n, float  mat[][50]);

int main()
{
	float mat[50][50], b[50], x[50], p1, p;
	int n, k, j, i;
	
		cout << "Este programa resuelve Sistemas de Ecuaciones por medio del metodo Gauss-Jordan" << endl;
	cout << "Ingresa el numero de filas de la matriz o bien el nÃºmero de ecuaciones:"<<endl;
	cin >> n;
	cout << "Ingrese los coeficientes de las variables:"<<endl;
	for(i=0; i<n; i++)
	{
	for(j=1;j<=n;j++)
	{
		cin >> mat[i][j];
	}	
	}
	cout << "Agrega los terminos independientes:" << endl;
	for(i=0; i<n; i++)
	{
		cin>>b[i];
	}
	
		p1=1/mat[1][1];
	for(j=1;j<=n;j++)
	mat[1][j]=p1*mat[1][j];
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	for(k=2;k<=m;k++)
	{
		p=-1*mat[k][1];
		for(j=1;j<=n;j++)
	{
		mat[k][j]=(p*mat[1][j])+mat[k][j];
	}
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	}
	
	    p1=1/mat[2][2];
	for(j=1;j<=n;j++)
	mat[2][j]=p1*mat[2][j];
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	for(k=3;k<=m;k++)
	{
		p=-1*mat[k][2];
		for(j=1;j<=n;j++)
	{
		mat[k][j]=(p*mat[2][j])+mat[k][j];
	}
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	}
	
	   p1=1/mat[3][3];
	for(j=1;j<=n;j++)
	mat[3][j]=p1*mat[3][j];
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	for(k=4;k<=m;k++)
	{
		p=-1*mat[k][3];
		for(j=1;j<=n;j++)
	{
		mat[k][j]=(p*mat[3][j])+mat[k][j];
	}
	cout << "La matriz es:" << endl;
	imprime(m, n, mat);
	}
	
	return 0;
}

void imprime(int m, int n, float mat[][50])
{
	int k,j;
	for(k=1;k<=m;k++)
	{
		for(j=1;j<=n;j++)
		cout <<" " << mat[k][j] <<" ";
		cout << endl;
	}

}
